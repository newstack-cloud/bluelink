# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.3.3] - 2025-02-27

### Fixed

- Adds missing `CurrentResourceSpec` and `CurrentResourceMetadata` fields to the `ResourceGetExternalStateInput` struct that is passed into the `GetExternalState` method of the `provider.Resource` interface. This allows the provider to access the current resource spec and metadata when determining how to locate and present the "live" state of the resource in the external system.

## [0.3.2] - 2025-02-26

### Updated

- **Breaking change** - Renamed the `StabilisedDependencies` method of the `provider.Resource` interface to `GetStabilisedDependencies` to be consistent with the names of other methods to retrieve information about a resource.

_Breaking changes will occur in early 0.x releases of this framework._

## [0.3.1] - 2025-02-25

### Fixed

- Corrects error code used in the helper function to create export not found errors. This also adds a missing switch case for the display text to show for the export not found error code.

## [0.3.0] - 2025-02-25

### Added

- Helper functions to create and check for export not found errors to be used as a part of the state container interface. Implementations of the state container interface should use these functions to ensure that consistent error types are returned when a requested export is not present in a given blueprint instance.

## [0.2.3] - 2025-02-14

### Updated

- **Breaking change** - Renamed the `Remove` method of the children state container to `Detach` to be consistent with the `Attach` method and to highlight that the method does not completely remove the child blueprint state but removes the connection between the parent and child blueprints.

_Breaking changes will occur in early 0.x releases of this framework._

## [0.2.2] - 2025-02-09

### Fixed

- Adds a workaround to ensure Go does not try to zip contents of test data and snapshot directories when importing the package into a project. This workaround includes adding an empty `go.mod` file to every directory that should be ignored. Without this fix, the package could not be imported into packages due to unusual characters in the snapshot file names generated by the cupaloy package used for snapshot testing. It is also good practise to ignore these directories as they are not required for projects to make use of the package.

## [0.2.1] - 2025-02-04

### Updated

- **Breaking change** - Simplifies redundant entity type prefixed field names in state structures. (e.g. `ResourceName` -> `Name`) The exception to this change involves the id fields due to the `ID` name being used for the method that fulfils the Element interface. For this reason ResourceID, InstanceID and LinkID will remain in the Go structs but will be serialised to "id" when marshalling to JSON.'

_Breaking changes will occur in early 0.x releases of this framework._

## [0.2.0] - 2025-01-31

### Updated

- **Breaking change** - Removes redundant instance ID arguments from state container methods when interacting with resources and links by globally unique identifiers.
- Updates the in-memory state container implementation used in automated tests to store resource and link data in a way that it can be directly accessed when given a globally unique identifier.

_Breaking changes will occur in early 0.x releases of this framework._

## [0.1.0] - 2025-01-29

### Added

- Functionality to load, parse and validate blueprints that adheres to the [Blueprint Specification](https://www.celerityframework.com/docs/blueprint/specification).
- Functionality to stage changes for updates and new deployments of a blueprint.
- Functionality to resolve substitutions in all elements of a blueprint.
- Functionality to deploy and destroy blueprint instances based on a set of changes produced during change staging.
- An interface and data types for persisting blueprint state.
- Interfaces for interacting with resource providers that applications can build plugin systems on top of.
- A set of core functions that can be used with substitutions along with tools for creating custom functions through a provider plugin.
- Functionality to check whether the "live" external state of a resource or set of resources in a blueprint matches the current state persisted with the blueprint framework.
